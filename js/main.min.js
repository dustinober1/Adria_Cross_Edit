!function(){"use strict";window.validateEmail=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);const e=(e,t="info")=>{const n=document.querySelector(".site-notification");n&&n.remove();const a=document.createElement("div");a.className=`site-notification site-notification--${t}`,a.setAttribute("role","alert"),a.setAttribute("aria-live","polite"),a.innerHTML=`\n            <span>${e}</span>\n            <button class="notification-close" aria-label="Close notification">&times;</button>\n        `,document.body.appendChild(a),a.querySelector(".notification-close").addEventListener("click",()=>{a.classList.add("fade-out"),setTimeout(()=>a.remove(),300)}),setTimeout(()=>{a.parentNode&&(a.classList.add("fade-out"),setTimeout(()=>a.remove(),300))},5e3),requestAnimationFrame(()=>{a.classList.add("visible")})},t=()=>{document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t)return;const n=document.querySelector(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}),n.setAttribute("tabindex","-1"),n.focus())})})},n=e=>{e.innerHTML='\n            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; \n                        height: 100%; min-height: 280px; background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%); \n                        border-radius: 8px; padding: 1.5rem; text-align: center;">\n                <span style="font-size: 2.5rem; margin-bottom: 0.5rem;">üì∏</span>\n                <p style="color: #666; margin-bottom: 1rem; font-size: 0.9rem;">Instagram content couldn\'t load</p>\n                <a href="https://www.instagram.com/adriacrossedit/" target="_blank" rel="noopener noreferrer"\n                   style="background: linear-gradient(135deg, #d4a574 0%, #c19a5d 100%); color: white; \n                          padding: 0.6rem 1.2rem; border-radius: 20px; text-decoration: none; font-weight: 600;\n                          font-size: 0.85rem; transition: transform 0.2s;">\n                    View on Instagram\n                </a>\n            </div>\n        '},a=()=>{(()=>{const e=document.getElementById("navToggle"),t=document.getElementById("navMenu"),n=document.querySelectorAll("#navMenu a");e&&t&&(e.addEventListener("click",()=>{const n="true"===e.getAttribute("aria-expanded");e.classList.toggle("active"),t.classList.toggle("active"),e.setAttribute("aria-expanded",!n)}),n.forEach(n=>{n.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false")})}),document.addEventListener("click",n=>{n.target.closest(".top-nav")||(e.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"))}),document.addEventListener("keydown",n=>{"Escape"===n.key&&t.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),e.focus())}))})(),(()=>{const e=document.getElementById("darkModeToggle");if(!e)return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=localStorage.getItem("theme");"dark"===n||!n&&t.matches?(document.body.classList.add("dark-mode"),e.textContent="‚òÄÔ∏è",e.setAttribute("aria-label","Switch to light mode")):e.setAttribute("aria-label","Switch to dark mode"),e.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");const t=document.body.classList.contains("dark-mode");e.textContent=t?"‚òÄÔ∏è":"üåô",e.setAttribute("aria-label",t?"Switch to light mode":"Switch to dark mode"),localStorage.setItem("theme",t?"dark":"light")}),t.addEventListener("change",t=>{localStorage.getItem("theme")||(t.matches?(document.body.classList.add("dark-mode"),e.textContent="‚òÄÔ∏è"):(document.body.classList.remove("dark-mode"),e.textContent="üåô"))})})(),(()=>{const e=document.querySelectorAll(".faq-question");0!==e.length&&e.forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling,n=e.querySelector(".faq-toggle");t.classList.contains("show")?(t.classList.remove("show"),n&&(n.textContent="+"),e.setAttribute("aria-expanded","false")):(document.querySelectorAll(".faq-answer.show").forEach(e=>{e.classList.remove("show")}),document.querySelectorAll(".faq-toggle").forEach(e=>{e.textContent="+"}),document.querySelectorAll(".faq-question").forEach(e=>{e.setAttribute("aria-expanded","false")}),t.classList.add("show"),n&&(n.textContent="‚àí"),e.setAttribute("aria-expanded","true"))}),e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())})})})(),(()=>{const t=document.querySelector(".newsletter-form");if(!t)return;const n=t.querySelector('input[type="email"]'),a=t.querySelector('button[type="submit"]');n.addEventListener("input",()=>{n.value&&!window.validateEmail(n.value)?n.style.borderColor="#dc3545":n.style.borderColor=""}),t.addEventListener("submit",async o=>{o.preventDefault();const s=n.value;if(!window.validateEmail(s))return e("Please enter a valid email address.","error"),void n.focus();a.disabled=!0,a.textContent="Subscribing...";try{await new Promise(e=>setTimeout(e,1e3)),e("Thank you for subscribing! Check your inbox for a welcome email.","success"),t.reset()}catch(t){e("Subscription failed. Please try again.","error")}finally{a.disabled=!1,a.textContent="Subscribe"}})})(),(()=>{const e=document.querySelectorAll(".form-toggle-btn");0!==e.length&&e.forEach(t=>{t.addEventListener("click",()=>{const n=t.getAttribute("data-target"),a=document.getElementById(n);a&&(document.querySelectorAll(".form-wrapper").forEach(e=>{e.style.display="none"}),e.forEach(e=>e.classList.remove("active")),a.style.display="block",t.classList.add("active"))})})})(),t(),(()=>{const e=document.querySelectorAll(".instagram-post");if(0===e.length)return;e.forEach(e=>{const t=e.querySelector("iframe");if(!t)return;const a=setTimeout(()=>{(!t.contentWindow||t.offsetHeight<100)&&n(e)},8e3);t.addEventListener("load",()=>{clearTimeout(a)}),t.addEventListener("error",()=>{clearTimeout(a),n(e)})});const t=document.querySelectorAll(".instagram-post iframe[data-src]");if(0===t.length)return;const a=(e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.removeAttribute("data-src"),t.unobserve(n)}})};if("IntersectionObserver"in window){const e=new IntersectionObserver(a,{rootMargin:"100px",threshold:.1});t.forEach(t=>e.observe(t))}else t.forEach(e=>{e.src=e.dataset.src,e.removeAttribute("data-src")})})(),(()=>{const e=document.querySelectorAll('iframe[src*="docs.google.com/forms"]');0!==e.length&&e.forEach(e=>{const t=e.parentElement,n=document.createElement("div");n.className="form-loading",n.innerHTML='<div class="loading-spinner"></div><span>Loading form...</span>',n.setAttribute("aria-live","polite"),t.insertBefore(n,e),e.addEventListener("load",()=>{n.remove(),e.style.opacity="1"});const a=setTimeout(()=>{n.parentNode&&(n.innerHTML='\n                        <div class="form-error">\n                            <p>The form is taking longer than expected to load.</p>\n                            <button onclick="location.reload()" class="btn-cta btn-secondary-cta">Refresh Page</button>\n                        </div>\n                    ')},15e3);e.addEventListener("load",()=>clearTimeout(a))})})()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.showNotification=e;(()=>{document.body.insertAdjacentHTML("beforeend",'\n            <div id="searchModal" class="search-modal" role="dialog" aria-modal="true" aria-label="Search">\n                <div class="search-container">\n                    <div class="search-header">\n                        <h3>Search Adria Cross</h3>\n                        <button id="closeSearch" class="close-search" aria-label="Close search">&times;</button>\n                    </div>\n                    <div class="search-input-wrapper">\n                        <span class="search-icon-input">üîç</span>\n                        <input type="text" id="searchInput" class="search-input" placeholder="What are you looking for..." aria-label="Search site content">\n                    </div>\n                    <div id="searchResults" class="search-results">\n                        \x3c!-- Results will appear here --\x3e\n                    </div>\n                </div>\n            </div>\n        ');const e=document.getElementById("searchModal"),t=document.getElementById("searchInput"),n=document.getElementById("searchResults");document.getElementById("closeSearch");let a=[];document.addEventListener("click",n=>{n.target.closest(".search-trigger")&&(n.preventDefault(),(async()=>{if(!(a.length>0))try{const e=await fetch("/search.json");a=await e.json()}catch(e){console.error("Failed to load search index",e)}})(),e.classList.add("active"),t.focus(),document.body.style.overflow="hidden"),(n.target===e||n.target.closest("#closeSearch"))&&(e.classList.remove("active"),document.body.style.overflow="")}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("active")&&(e.classList.remove("active"),document.body.style.overflow="")}),t.addEventListener("input",e=>{(e=>{if(!e)return void(n.innerHTML="");const t=e.toLowerCase(),o=a.filter(e=>e.title.toLowerCase().includes(t)||e.keywords.toLowerCase().includes(t)||e.summary.toLowerCase().includes(t));0===o.length?n.innerHTML=`<p style="text-align:center; color:#888;">No results found for "${e}"</p>`:n.innerHTML=o.map(e=>`\n                    <a href="${e.url}" class="search-result-item">\n                        <span class="search-result-title">\n                            <span class="search-result-category">${e.category}</span>\n                            ${e.title}\n                        </span>\n                        <span class="search-result-summary">${e.summary}</span>\n                    </a>\n                `).join("")})(e.target.value)})})(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)},e=>{console.log("ServiceWorker registration failed: ",e)})}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),"function"==typeof gtag&&gtag("event","pwa_install",{event_category:"pwa",event_label:"install",value:0})})}();